---
import BaseHead from "../components/BaseHead.astro";
import Footer from "../components/Footer.astro";
import Header from "../components/Header.astro";
import BookingButton from "../components/BookingButton.astro";
import { SITE_DESCRIPTION, SITE_TITLE } from "../consts";
import { getCollection } from "astro:content";

const siteSettings = await getCollection("siteSettings");
const siteData = siteSettings[0]?.data;

const aboutContent = await getCollection("aboutContent");
const aboutData = aboutContent[0]?.data;
---

<!doctype html>
<html lang="en">
  <head>
    <BaseHead
      title={`About - ${siteData?.siteTitle || SITE_TITLE}`}
      description={`${siteData?.siteDescription || SITE_DESCRIPTION} - Learn about ${aboutData?.professionalName || "Josta Raapis-Dingman"}'s professional background, qualifications, and approach to massage therapy.`}
    />
  </head>
  <body>
    <Header />
    <main>
      <!-- Page Header -->
      <section class="page-header">
        <div class="container">
          <h1>About {aboutData?.professionalName || "Josta Raapis-Dingman"}</h1>
          <p>
            Dedicated to helping clients achieve optimal wellness through the
            healing power of therapeutic massage
          </p>
        </div>
      </section>

      <!-- About Content -->
      <section class="section section-light">
        <div class="container">
          <div class="about-content">
            <div class="about-text">
              <h2>
                {aboutData?.journeyTitle || "My Journey to Massage Therapy"}
              </h2>
              <p
                set:html={aboutData?.journeyContent?.replace(
                  /\n\n/g,
                  "</p><p>",
                ) ||
                  "My passion for massage therapy began over 15 years ago when I experienced firsthand the transformative power of therapeutic touch following a sports injury. The relief and healing I received inspired me to pursue a career where I could help others experience similar benefits."}
              />
            </div>

            <div class="about-image">
              {
                aboutData?.professionalPhoto ? (
                  <img
                    src={aboutData.professionalPhoto.src}
                    alt={`Professional photo of ${aboutData.professionalName || "Josta Raapis-Dingman"}`}
                    class="professional-photo"
                  />
                ) : (
                  <div class="image-placeholder">
                    <h3>Professional Photo</h3>
                    <p>Your professional headshot would go here</p>
                  </div>
                )
              }
            </div>
          </div>
        </div>
      </section>

      <!-- Philosophy -->
      <section class="section">
        <div class="container">
          <div class="philosophy">
            <h2>{aboutData?.philosophyTitle || "My Philosophy"}</h2>
            <div class="philosophy-grid">
              {
                aboutData?.philosophyItems?.map((item) => (
                  <div class="philosophy-item">
                    <h3>{item.title}</h3>
                    <p>{item.description}</p>
                  </div>
                )) ||
                  [
                    {
                      title: "ðŸŒ¿ Holistic Approach",
                      description:
                        "I view each client as a whole person, considering physical, emotional, and lifestyle factors that contribute to their well-being.",
                    },
                    {
                      title: "ðŸ¤ Client-Centered Care",
                      description:
                        "Your comfort and goals are my priority. I take time to listen, understand your concerns, and adjust my techniques.",
                    },
                  ].map((item) => (
                    <div class="philosophy-item">
                      <h3>{item.title}</h3>
                      <p>{item.description}</p>
                    </div>
                  ))
              }
            </div>
          </div>
        </div>
      </section>

      <!-- Qualifications -->
      <section class="section section-light">
        <div class="container">
          <div class="qualifications">
            <h2>Education & Certifications</h2>
            <div class="qualifications-grid">
              <div class="qualification-group">
                <h3>Education</h3>
                <ul>
                  {
                    aboutData?.educationItems?.map((item) => (
                      <li>
                        <strong>{item.degree}</strong> - {item.institution} (
                        {item.year})
                      </li>
                    )) ||
                      [
                        {
                          degree: "Massage Therapy Diploma",
                          institution: "Wellness Institute",
                          year: "2008",
                        },
                        {
                          degree: "Advanced Anatomy & Physiology",
                          institution: "Health Sciences College",
                          year: "2010",
                        },
                      ].map((item) => (
                        <li>
                          <strong>{item.degree}</strong> - {item.institution} (
                          {item.year})
                        </li>
                      ))
                  }
                </ul>
              </div>
              <div class="qualification-group">
                <h3>Certifications</h3>
                <ul>
                  {
                    aboutData?.certificationItems?.map((cert) => (
                      <li>
                        <strong>{cert.certification}</strong>
                      </li>
                    )) ||
                      [
                        "Nationally Certified in Therapeutic Massage (NCTMB)",
                        "Certified Myofascial Release Practitioner",
                      ].map((cert) => (
                        <li>
                          <strong>{cert}</strong>
                        </li>
                      ))
                  }
                </ul>
              </div>
              <div class="qualification-group">
                <h3>Professional Memberships</h3>
                <ul>
                  {
                    aboutData?.membershipItems?.map((membership) => (
                      <li>
                        <strong>{membership.membership}</strong>
                      </li>
                    )) ||
                      [
                        "American Massage Therapy Association (AMTA)",
                        "Associated Bodywork & Massage Professionals (ABMP)",
                      ].map((membership) => (
                        <li>
                          <strong>{membership}</strong>
                        </li>
                      ))
                  }
                </ul>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Specializations -->
      <section class="section">
        <div class="container">
          <div class="specializations">
            <h2>Areas of Specialization</h2>
            <div class="specializations-grid">
              {
                aboutData?.specializationItems?.map((item) => (
                  <div class="specialization-item">
                    <h3>{item.title}</h3>
                    <p>{item.description}</p>
                  </div>
                )) ||
                  [
                    {
                      title: "Chronic Pain Management",
                      description:
                        "Specialized techniques for long-term pain relief, including fibromyalgia, arthritis, and persistent muscle tension.",
                    },
                    {
                      title: "Stress & Anxiety Relief",
                      description:
                        "Gentle, calming approaches designed to reduce cortisol levels and promote deep relaxation and mental clarity.",
                    },
                  ].map((item) => (
                    <div class="specialization-item">
                      <h3>{item.title}</h3>
                      <p>{item.description}</p>
                    </div>
                  ))
              }
            </div>
          </div>
        </div>
      </section>

      <!-- CTA Section -->
      <section class="section">
        <div class="container">
          <div class="cta-section text-center">
            <h2>Ready to Experience the Difference?</h2>
            <p>
              I'm committed to providing you with exceptional care in a
              comfortable, professional environment. Let's work together to
              achieve your wellness goals.
            </p>
            <BookingButton
              text="Schedule Your Consultation"
              size="large"
              variant="secondary"
            />
          </div>
        </div>
      </section>
    </main>
    <Footer />
  </body>
</html>

<style>
  .page-header {
    background: linear-gradient(
      135deg,
      var(--secondary) 0%,
      var(--primary) 100%
    );
    padding: 4rem 0;
    text-align: center;
  }

  .page-header h1 {
    color: var(--text);
    margin-bottom: 1.5rem;
  }

  .page-header p {
    font-size: 1.2rem;
    color: var(--text-light);
    max-width: 800px;
    margin: 0 auto;
    line-height: 1.6;
  }

  .about-content {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 3rem;
    align-items: start;
  }

  .about-text h2 {
    color: var(--accent);
    margin-bottom: 1.5rem;
  }

  .about-text p {
    font-size: 1.1rem;
    line-height: 1.7;
    color: var(--text-light);
    margin-bottom: 1.5rem;
  }

  .image-placeholder {
    background: var(--gray-light);
    border: 2px dashed var(--gray-medium);
    border-radius: 10px;
    padding: 2rem;
    text-align: center;
    color: var(--text-light);
  }

  .image-placeholder h3 {
    margin-bottom: 0.5rem;
    color: var(--text);
  }

  .professional-photo {
    width: 100%;
    height: auto;
    border-radius: 10px;
    box-shadow: var(--shadow);
  }

  .philosophy,
  .qualifications,
  .specializations {
    text-align: center;
    max-width: 1000px;
    margin: 0 auto;
  }

  .philosophy h2,
  .qualifications h2,
  .specializations h2 {
    margin-bottom: 3rem;
  }

  .philosophy-grid,
  .qualifications-grid,
  .specializations-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 2rem;
    text-align: left;
  }

  .philosophy-item,
  .specialization-item {
    background: var(--white);
    padding: 2rem;
    border-radius: 10px;
    box-shadow: var(--shadow);
  }

  .philosophy-item h3,
  .specialization-item h3 {
    color: var(--accent);
    margin-bottom: 1rem;
    font-size: 1.2rem;
  }

  .philosophy-item p,
  .specialization-item p {
    color: var(--text-light);
    line-height: 1.6;
  }

  .qualification-group {
    background: var(--white);
    padding: 2rem;
    border-radius: 10px;
    box-shadow: var(--shadow);
  }

  .qualification-group h3 {
    color: var(--accent);
    margin-bottom: 1.5rem;
    font-size: 1.2rem;
  }

  .qualification-group ul {
    list-style: none;
    padding: 0;
  }

  .qualification-group li {
    padding: 0.5rem 0;
    border-bottom: 1px solid var(--gray-light);
    color: var(--text-light);
    line-height: 1.5;
  }

  .qualification-group li:last-child {
    border-bottom: none;
  }

  .cta-section {
    max-width: 800px;
    margin: 0 auto;
    padding: 3rem 2rem;
    background: var(--secondary);
    border-radius: 15px;
    box-shadow: var(--shadow);
  }

  .cta-section h2 {
    margin-bottom: 1.5rem;
  }

  .cta-section p {
    margin-bottom: 2rem;
    font-size: 1.1rem;
    color: var(--text-light);
    line-height: 1.6;
  }

  @media (max-width: 768px) {
    .page-header {
      padding: 3rem 0;
    }

    .page-header p {
      font-size: 1.1rem;
    }

    .about-content {
      grid-template-columns: 1fr;
      gap: 2rem;
    }

    .philosophy-grid,
    .qualifications-grid,
    .specializations-grid {
      grid-template-columns: 1fr;
    }

    .cta-section {
      padding: 2rem 1.5rem;
    }
  }
</style>
