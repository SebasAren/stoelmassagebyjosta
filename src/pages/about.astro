---
import BaseHead from "../components/BaseHead.astro";
import Footer from "../components/Footer.astro";
import Header from "../components/Header.astro";
import Hero from "../components/Hero.astro";
import BookingButton from "../components/BookingButton.astro";
import { SITE_DESCRIPTION, SITE_TITLE } from "../consts";
import { getCollection } from "astro:content";

const siteSettings = await getCollection("siteSettings");
const siteData = siteSettings[0]?.data;

const aboutContent = await getCollection("aboutContent");
const aboutData = aboutContent[0]?.data;
---

<!doctype html>
<html lang="nl">
  <head>
    <BaseHead
      title={`Over - ${siteData?.siteTitle || SITE_TITLE}`}
      description={`${siteData?.siteDescription || SITE_DESCRIPTION} - Leer meer over ${aboutData?.professionalName || "Josta Raapis Dingman"}'s professionele achtergrond, kwalificaties en benadering van massagetherapie.`}
    />
  </head>
  <body>
    <Header />
    <main>
      <Hero
        title={`Over ${aboutData?.professionalName || "Josta Raapis Dingman"}`}
        description="Toegewijd aan het helpen van cliënten om optimale wellness te bereiken door de helende kracht van therapeutische massage"
      />

      <!-- About Content -->
      <section class="section section-light">
        <div class="container">
          <div class="about-content">
            <div class="about-text">
              <h2>
                {aboutData?.journeyTitle || "Mijn Pad naar Massagetherapie"}
              </h2>
              <p
                set:html={aboutData?.journeyContent?.replace(
                  /\n\n/g,
                  "</p><p>",
                ) ||
                  "Mijn passie voor massagetherapie begon meer dan 15 jaar geleden toen ik zelf de transformerende kracht van therapeutische aanraking ervoer na een sportblessure. De verlichting en heling die ik ontving inspireerden mij om een carrière na te jagen waarin ik anderen kon helpen om soortgelijke voordelen te ervaren."}
              />
            </div>

            <div class="about-image">
              {
                aboutData?.professionalPhoto ? (
                  <img
                    src={aboutData.professionalPhoto.src}
                    alt={`Professionele foto van ${aboutData.professionalName || "Josta Raapis Dingman"}`}
                    class="professional-photo"
                  />
                ) : (
                  <div class="image-placeholder">
                    <h3>Professionele Foto</h3>
                    <p>Uw professionele portretfoto zou hier komen</p>
                  </div>
                )
              }
            </div>
          </div>
        </div>
      </section>

      <!-- Qualifications -->
      <section class="section">
        <div class="container">
          <div class="qualifications">
            <h2>Opleiding & Certificeringen</h2>
            <div class="qualifications-grid">
              <div class="qualification-group">
                <h3>Opleiding</h3>
                <ul>
                  {
                    aboutData?.educationItems?.map((item) => (
                      <li>
                        <strong>{item.degree}</strong> - {item.institution} (
                        {item.year})
                      </li>
                    )) ||
                      [
                        {
                          degree: "Diploma Massagetherapie",
                          institution: "Wellness Instituut",
                          year: "2008",
                        },
                        {
                          degree: "Gevorderde Anatomie & Fysiologie",
                          institution: "Gezondheidswetenschappen College",
                          year: "2010",
                        },
                      ].map((item) => (
                        <li>
                          <strong>{item.degree}</strong> - {item.institution} (
                          {item.year})
                        </li>
                      ))
                  }
                </ul>
              </div>
              <div class="qualification-group">
                <h3>Certificeringen</h3>
                <ul>
                  {
                    aboutData?.certificationItems?.map((cert) => (
                      <li>
                        <strong>{cert.certification}</strong>
                      </li>
                    )) ||
                      [
                        "Landelijk Gecertificeerd in Therapeutische Massage (NCTMB)",
                        "Gecertificeerd Myofasciale Release Praktizijn",
                      ].map((cert) => (
                        <li>
                          <strong>{cert}</strong>
                        </li>
                      ))
                  }
                </ul>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- CTA Section -->
      <section class="section">
        <div class="container">
          <div class="cta-section text-center">
            <h2>{aboutData?.ctaTitle || "Klaar om het Verschil te Ervaren?"}</h2>
            <p>
              {aboutData?.ctaDescription ||
                "Ik ben toegewijd aan het bieden van uitzonderlijke zorg in een comfortabele, professionele omgeving. Laten we samenwerken om uw wellnessdoelen te bereiken."}
            </p>
          </div>
        </div>
      </section>
    </main>
    <Footer />
  </body>
</html>

<style>
  .about-content {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 3rem;
    align-items: start;
  }

  .about-text h2 {
    color: var(--text);
    margin-bottom: 1.5rem;
  }

  .about-text p {
    font-size: 1.1rem;
    line-height: 1.7;
    color: var(--text-light);
    margin-bottom: 1.5rem;
  }

  .image-placeholder {
    background: var(--gray-light);
    border: 2px dashed var(--gray-medium);
    border-radius: 10px;
    padding: 2rem;
    text-align: center;
    color: var(--text-light);
  }

  .image-placeholder h3 {
    margin-bottom: 0.5rem;
    color: var(--text);
  }

  .professional-photo {
    width: 100%;
    height: auto;
    border-radius: 10px;
    box-shadow: var(--shadow);
  }

  .qualifications,
  .specializations {
    text-align: center;
    max-width: 1000px;
    margin: 0 auto;
  }

  .qualifications h2 {
    margin-bottom: 3rem;
  }

  .qualifications-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 2rem;
    text-align: left;
  }

  .qualification-group {
    background: var(--white);
    padding: 2rem;
    border-radius: 10px;
    box-shadow: var(--shadow);
  }

  .qualification-group h3 {
    color: var(--text);
    margin-bottom: 1.5rem;
    font-size: 1.2rem;
  }

  .qualification-group ul {
    list-style: none;
    padding: 0;
  }

  .qualification-group li {
    padding: 0.5rem 0;
    border-bottom: 1px solid var(--gray-light);
    color: var(--text-light);
    line-height: 1.5;
  }

  .qualification-group li:last-child {
    border-bottom: none;
  }

  .cta-section {
    max-width: 800px;
    margin: 0 auto;
    padding: 3rem 2rem;
    background: var(--secondary);
    border-radius: 15px;
    box-shadow: var(--shadow);
  }

  .cta-section h2 {
    margin-bottom: 1.5rem;
  }

  .cta-section p {
    margin-bottom: 2rem;
    font-size: 1.1rem;
    color: var(--text-light);
    line-height: 1.6;
  }

  @media (max-width: 768px) {
    .about-content {
      grid-template-columns: 1fr;
      gap: 2rem;
    }

    .qualifications-grid {
      grid-template-columns: 1fr;
    }

    .cta-section {
      padding: 2rem 1.5rem;
    }
  }
</style>
